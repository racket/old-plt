========================================================================
 Compiling for MacOS Classic
========================================================================

Read the instructions in plt/src/mac/cw/README

========================================================================
 Compiling for MacOS X
========================================================================

It is possible to compile MzScheme for OS X using only make & cc.
However, the preferred method for MzScheme compilation and the only
method for MrEd compilation is to use Codewarrior 7.0.  Instructions
for compiling MzScheme without Codewarrior appear at the end of this 
file.  Nevertheless, the Codewarrior compilation does require the use
of make and cc, so familiarity with the command line is required.
Also, these instructions are needlessly complicated because I haven't
yet written scripts to do everything in the right order.

*** OPTION 1: Compiling for Mac OS X using Codewarrior (and cc):

0) You must have the Apple Developer Tools installed, as well
as Codewarrior 7.0.

1) cd to the plt/src directory, and execute './configure'

2) cd to plt/src/mzscheme, and execute 'make g-c'

3) In Codewarrior, open the project file plt/src/mac/cw/MzScheme-app.mcp,
choose the "MzScheme-app.OSX" target from the pull-down menu in the upper-
left corner, and then Make (cmd-m). (Ignore warning on opening the file
of the form "couldn't find /usr/local/lib".)

4) cd to plt/src/mac and execute the pre-make script by typing 
./pre-make
(This step requires mzscheme, which is why we had to build it first.)

5) As for MzScheme; in Codewarrior, open the project file
plt/src/mac/cw/MrEd.mcp, choose the "MrEd.OSX" target from the
pull-down menu in the upper-left corner, and then Make
(cmd-m). (Ignore warning on opening the file of the form "couldn't
find /usr/local/lib")

6) Once again: in Codewarrior, open the project file
plt/src/mac/cw/Starters.mcp, choose the "MrStarter.OSX" target, and 
make with cmd-m.

7) to compile .zo's and create launchers, cd to /plt/bin and type:
./mzscheme -mvqL- setup.ss setup

*** OPTION 2: Installing downloaded binaries:

As of 2001-12-10, the download site for these binaries is 
<http://www.ccs.neu.edu/~clements/download/>

1) download mzscheme.sit, and unstuff it in the plt/bin directory

2) download MrEd.app.sit, and unstuff it in the the plt/bin directory

3) download Starter.app.sit, and unstuff it in the plt/collects/launcher
directory

4) to compile .zo's and create launchers, cd to plt/bin and type:
./mzscheme -mvqL- setup.ss setup

*** OPTION 3: Compiling MzScheme for Mac OS X using only cc :

0) You must have the Apple Developer Tools installed.

1) in the files plt/src/mzscheme/sconfig.h and plt/include/sconfig.h,
comment out the #define for MACINTOSH_EVENTS in the OS X portion of the
file.  That is, change
# define MACINTOSH_EVENTS
to
/*# define MACINTOSH_EVENTS */
on line 647.

(Ed. Note.: There's a way around this, but it's currently too ugly
to make public.)

2) Now follow the Unix build instructions contained in plt/src/README

3) to compile .zo's and create launchers, cd to /plt/bin and type:
./mzscheme -mvqL- setup.ss setup



Comments, suggestions, questions?  Send them all to: clements@brinckerhoff.org
November 29, 2001