scmx=$(find /home/dorai -name scmxlate.scm -print \
2> /dev/null | grep -vi permission | head -1)

if test "$scmx" = ""
then
scmx=$(find /usr -name scmxlate.scm -print \
2> /dev/null | grep -vi permission | head -1)
fi

if test ! -f "$scmx"
then
echo Couldn"'"t find scmxlate.
echo scmxlate is available at
echo http://www.ccs.neu.edu/~dorai/scmxlate/scmxlate.html
exit
fi

echo '
scmx='$scmx' 
f=$1

if test "$f" = ""
then
read -p "Scheme dialect: " f
fi

if test "$f" = "clisp"
then
clisp -q $scmx

elif test "$f" = "gambit"
then
gsi $scmx

elif test "$f" = "guile"
then
guile -l $scmx

elif test "$f" = "mzscheme" -o "$f" = "plt"
then
mzscheme -f $scmx

elif test "$f" = "petite"
then
petite $scmx

elif test "$f" = "scheme48"
then
echo
echo ,open c-system-function extended-ports posix-files posix-process-data
echo ,load $scmx
echo
scheme48

elif test "$f" = "scsh"
then
scsh -s $scmx

elif test "$f" = "sxm"
then
sxi $scmx

elif test "$f" = "umbscheme"
then
umb-scheme $scmx

else
echo Dialect $f not supported
exit

fi' > scmxlate

chmod +x scmxlate
