# Configuration for compiling MrEd.
# The default settings should work for Linux.

########################## Programs ##################################

# ANSI C compiler
CC = @CC@

# C++ compiler
CXX = @CXX@

# Linker, or compiler used for linking
LINKER = $(CXX)

# Perl
PERL = @PERL@

# Archives (AR and ARFLAGS are automatically defined by gnumake)
# AR = ar
# ARFLAGS = ruv
RANLIB = @RANLIB@

########################## Compiler flags #############################

# Miscellaneous compilation options; use -DOPERATOR_NEW_ARRAY if your
#  C++ compiler distinguishes the built-in `new' and `new[]' operators
OPTIONS = @OPTIONS@ @MROPTIONS@

# Debugging, warnings, optimization
COMPFLAGS = @CFLAGS@

# X11 header path
XINCLUDE = @X_CFLAGS@

# Other compiler- or system-specific include paths; for example,
# some old SunOS systems need -I/usr/ucbinclude/sys
COMPPATHS = 

########################## Linker flags #############################

# X11 library path
XLIB = @X_LIBS@

# Prefix and suffix for linking; normally empty, but -rdynamic is 
#  here for Linux/gcc (and probably gcc on other ELF platforms)
LDSTARTERS = 
LDENDERS =

# System libraries to link, including X11 libs
LDLIBS = @X_PRE_LIBS@ -lXaw -lXmu -lXt -lX11 -lXext @X_EXTRA_LIBS@ @LIBS@

########################## Advanced #############################

# If you want to generate plt/src/wxxt/XWidget/xw*.c files from
# plt/src/wxxt/XWidget/*.w files, you must set WBUILD:
#WBUILD = /usr/local/bin/wbuild  --no-init-file -i XWidgets
#         -c XWidgets -d XWidgets -p . /usr/local/lib/wbuild.cfg

GCDIRECTORY = @GCDIR@

########################## Derived #############################

# Use _xt
GUISUFFIX = _xt

# Don't change these
OBJSUFF = o
SRCSUFF = cc
GUI = -Dwx_xt

GCDIRECTORY ?= gc
WBUILD ?= sh $(PLTSRCDIR)/wxxt/src/XWidgets/dummy.wbuild

WXINC = $(PLTSRCDIR)/wxxt/include/AIAI-include -I$(PLTSRCDIR)/wxxt/include
WXLIB = $(PLTSRCDIR)/wxxt/lib/libwx$(GUISUFFIX).a
NOGCINC = -I$(WXINC) -I$(PLTSRCDIR)/mred/wxme/ -I$(PLTSRCDIR)/mzscheme/include/ $(COMPPATHS)
INC = -I$(PLTSRCDIR)/mzscheme/$(GCDIRECTORY) $(NOGCINC)
CXXFLAGS = $(XINCLUDE) $(INC) $(OPTIONS) $(GUI) $(COMPFLAGS)
CPPFLAGS = $(CXXFLAGS)
CFLAGS = $(XINCLUDE) $(INC) $(OPTIONS) $(GUI) $(COMPFLAGS)
LDFLAGS = -L$(PLTSRCDIR)/wxxt/contrib/xpm/lib/lib -L$(PLTSRCDIR)/wxxt/utils/image/lib $(XLIB)
