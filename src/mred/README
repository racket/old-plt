
This is source code distribution for MrEd. Please see the file
plt/LICENSE for license information.

Compiled binaries, documentation, and up-to-date information about
MrEd are at
  http://www.cs.rice.edu/CS/PLT/packages/mred/

MrEd should compile and execute with little or no modification if you
have an ANSI C compiler on any platform supported by the conservative
garbage collector.  Special per-platform instructions are below,
followed by some general notes on compilation.

-Matthew Flatt
 Rice University PLT
 mflatt@cs.rice.edu
 http://www.cs.rice.edu/~mflatt/

========================================================================
 Compiling for X Windows
========================================================================

Compiling MrEd requires `gnumake' (or `gmake' or `make', but it must
be GNU's `make') and around 20-30 MB of disk space.

Compile MzScheme first. See plt/src/mzscheme/README.

If you are compiling the Motif version of MrEd, the file
plt/src/wxwindow/src/make.env will need to be edited as described
below. If you are compiling the non-Motif version (a.k.a. "Xt"), edit
plt/src/wxxt/src/make.env (the distributed file is set up for Linux).

In src/make.env, some of the variables may need to be changed:

   * Set the program names, such as the C compiler

   * Set OPTIONS:
        * -DWXME_FOR_MRED must be preserved
        * -DWX_NORMALIZED_PS_FONTS=1 must be ketp for Motif
        * Add -DWXME_LSB_FIRST=1 if the target machine represents
          integers with the least-significant byte in the lowest memory
          address. For example, this flag is needed for Intel machines,
          but not Sparc machines. MrEd will display a warning at startup
          if the flag value is incorrectly chosen.
        * Add -DOPERATOR_NEW_ARRAY if the C++ compiler uses separate new
          and new[] operators. For example, this flag is needed for gcc
          version 2.6.3, but not for version 2.5.8.
        * Add -DWXS_CANT_ASSIGN_STRUCTURES if the C++ compiler does not
          allow an assignment to copy structures. A compile-time error
          will occur if the flag is needed but not provided.

   * Probably the XLIB and/or XINCLUDE directory lists must be adjusted.

   * Perhaps some other flags should be changed for your local 
     configuration.

Once all of the setup files are ready, go to plt/src/mred and run
`gnumake wx'. (Did you get a Makefile error? In that case, are you
using GNU's make?) `gnumake wx' compiles everything in
plt/src/wxwindow or plt/src/wxxt. When that completes, run `gnumake'
to compile MrEd.

After MrEd is built, run `gnumake install' to install the binary
into the plt/ hierarchy.

------------------------------------------------------------------------
 Compiling for Multiple Unix Platforms
------------------------------------------------------------------------

MrEd's Unix makefiles are set up to support compilation for
multiple platforms in the same filesystem. To differentiate platforms
for the makefiles, set the MZPLTFORMSUFFIX environment
variable. Object files (.o files) are placed in the subdirectory
  objects/sys${MZPLTFORMSUFFIX} 
and library files (.a files) are placed in the subdirectory 
  objects/lib${MZPLTFORMSUFFIX}
Instead of the make.env configuration file, compilation uses
  make${MZPLATFORMSUFFIX}.env

MZPLTFORMSUFFIX does not need to be defined if you are only compiling
for a single platform. In this case, object files are put in
  objects/sys
and library files are put in
  lib/sys

The destination for the `mred' binary does not use the
MZPLTFORMSUFFIX enrionment variable. (That would be too easy.)
Instead, the MRBUILDDIR environment variable designates a destination
directory for the binary. If MRBUILDDIR is not defined, the binary is
placed in the same directory as the main "Makefile".

========================================================================
 Compiling for Windows
========================================================================

Read the instructions in "plt/src/worksp/README".

========================================================================
 Compiling for MacOS
========================================================================

Unpack the Compactor archive "plt/src/cw.cpt" to "plt/src/cw" and then
see "plt/src/cw/ABOUT MZSCHEME".

========================================================================
 Bug Reports
========================================================================

Please report bugs using
  http://www.cs.rice.edu/CS/PLT/Bugs/
or (as a last resort) send mail to
  plt-bugs@cs.rice.edu

