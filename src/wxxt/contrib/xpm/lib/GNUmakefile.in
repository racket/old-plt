#
#  Copyright (C) 1989-95 GROUPE BULL
#
#  Permission is hereby granted, free of charge, to any person obtaining a copy
#  of this software and associated documentation files (the "Software"), to
#  deal in the Software without restriction, including without limitation the
#  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
#  sell copies of the Software, and to permit persons to whom the Software is
#  furnished to do so, subject to the following conditions:
#
#  The above copyright notice and this permission notice shall be included in
#  all copies or substantial portions of the Software.
#
#  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
#  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
#  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
#  GROUPE BULL BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN
#  AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
#  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
#
#  Except as contained in this notice, the name of GROUPE BULL shall not be
#  used in advertising or otherwise to promote the sale, use or other dealings
#  in this Software without prior written authorization from GROUPE BULL.
#

srcdir = @srcdir@

PLTSRCDIR = $(srcdir)../../../..
include ../../../../mred/Make.env

XPMCC = $(CC)

XPM_CC = $(XPMCC) $(CFLAGS) -c

OBJS= data.o create.o misc.o rgb.o \
      scan.o parse.o hashtab.o \
      WrFFrP.o RdFToP.o CrPFrDat.o CrDatFrP.o \
      WrFFrI.o RdFToI.o CrIFrDat.o CrDatFrI.o \
      CrIFrBuf.o CrPFrBuf.o CrBufFrI.o CrBufFrP.o \
      RdFToDat.o WrFFrDat.o \
      Attrib.o CrIFrP.o CrPFrI.o Image.o \
      Info.o RdFToBuf.o WrFFrBuf.o

all: libXpm.a

clean: 
	$(RM) *.o libXpm.a

libXpm.a: $(OBJS)
	$(AR) $(ARFLAGS) libXpm.a $(OBJS)
	$(RANLIB) libXpm.a

# Other dependencies.
CrBufFrI.o:
	$(XPM_CC) $(srcdir)/CrBufFrI.c -o CrBufFrI.o
CrBufFrP.o:
	$(XPM_CC) $(srcdir)/CrBufFrP.c -o CrBufFrP.o
CrDatFrI.o:
	$(XPM_CC) $(srcdir)/CrDatFrI.c -o CrDatFrI.o
CrDatFrP.o:
	$(XPM_CC) $(srcdir)/CrDatFrP.c -o CrDatFrP.o
CrDatFI.o:
	$(XPM_CC) $(srcdir)/CrDatFI.c -o CrDatFI.o
CrDatFP.o:
	$(XPM_CC) $(srcdir)/CrDatFP.c -o CrDatFP.o
CrIFrBuf.o:
	$(XPM_CC) $(srcdir)/CrIFrBuf.c -o CrIFrBuf.o
CrIFrDat.o:
	$(XPM_CC) $(srcdir)/CrIFrDat.c -o CrIFrDat.o
CrPFrBuf.o:
	$(XPM_CC) $(srcdir)/CrPFrBuf.c -o CrPFrBuf.o
CrPFrDat.o:
	$(XPM_CC) $(srcdir)/CrPFrDat.c -o CrPFrDat.o
RdFToDat.o:
	$(XPM_CC) $(srcdir)/RdFToDat.c -o RdFToDat.o
RdFToI.o:
	$(XPM_CC) $(srcdir)/RdFToI.c -o RdFToI.o
RdFToP.o:
	$(XPM_CC) $(srcdir)/RdFToP.c -o RdFToP.o
WrFFrDat.o:
	$(XPM_CC) $(srcdir)/WrFFrDat.c -o WrFFrDat.o
WrFFrI.o:
	$(XPM_CC) $(srcdir)/WrFFrI.c -o WrFFrI.o
WrFFrP.o:
	$(XPM_CC) $(srcdir)/WrFFrP.c -o WrFFrP.o
create.o:
	$(XPM_CC) $(srcdir)/create.c -o create.o
data.o:
	$(XPM_CC) $(srcdir)/data.c -o data.o
hashtab.o:
	$(XPM_CC) $(srcdir)/hashtab.c -o hashtab.o
misc.o:
	$(XPM_CC) $(srcdir)/misc.c -o misc.o
parse.o:
	$(XPM_CC) $(srcdir)/parse.c -o parse.o
rgb.o:
	$(XPM_CC) $(srcdir)/rgb.c -o rgb.o
scan.o:
	$(XPM_CC) $(srcdir)/scan.c -o scan.o
Attrib.o:
	$(XPM_CC) $(srcdir)/Attrib.c -o Attrib.o
CrIFrP.o:
	$(XPM_CC) $(srcdir)/CrIFrP.c -o CrIFrP.o
CrPFrI.o:
	$(XPM_CC) $(srcdir)/CrPFrI.c -o CrPFrI.o
Image.o:
	$(XPM_CC) $(srcdir)/Image.c -o Image.o
Info.o:
	$(XPM_CC) $(srcdir)/Info.c -o Info.o
RdFToBuf.o:
	$(XPM_CC) $(srcdir)/RdFToBuf.c -o RdFToBuf.o
WrFFrBuf.o:
	$(XPM_CC) $(srcdir)/WrFFrBuf.c -o WrFFrBuf.o
